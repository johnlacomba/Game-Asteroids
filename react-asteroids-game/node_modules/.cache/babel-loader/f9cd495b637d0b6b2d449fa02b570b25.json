{"ast":null,"code":"var _jsxFileName = \"/Users/jlacomba/Game-Asteroids/react-asteroids-game/src/components/Game.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport Player from './Player';\nimport Asteroid from './Asteroid';\nimport Debris from './Debris';\nimport UFO from './UFO';\nimport { handleInput } from '../core/inputController';\nimport { checkPolygonCollision, checkCirclePolygonCollision } from '../core/collision';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Game = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const bulletsRef = useRef([]);\n  const ufoBulletsRef = useRef([]);\n  const asteroidsRef = useRef([]);\n  const debrisRef = useRef([]);\n  const ufoRef = useRef(null);\n  const playerRef = useRef(null);\n  const shootCooldownRef = useRef(0);\n  const waveCountRef = useRef(30); // Was 8\n  const [isGameOver, setIsGameOver] = useState(false);\n  const gameOverRef = useRef(false);\n  const scoreRef = useRef(0);\n  const ufoSpawnTimerRef = useRef(0);\n  const UFO_SPAWN_TIME = 30 * 60; // 30 seconds at 60fps\n  const SHOOT_COOLDOWN = 15; // 60fps / 4 shots per second = 15 frames\n  const WORLD_WIDTH = 3000;\n  const WORLD_HEIGHT = 2000;\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    canvas.width = 1024;\n    canvas.height = 768;\n\n    // Initialize Player\n    const player = new Player({\n      position: {\n        x: WORLD_WIDTH / 2,\n        y: WORLD_HEIGHT / 2\n      }\n    });\n    playerRef.current = player;\n    const spawnUFO = () => {\n      const side = Math.floor(Math.random() * 4);\n      let position, velocity;\n      const speed = 1.5;\n      switch (side) {\n        case 0:\n          // Top\n          position = {\n            x: Math.random() * canvas.width,\n            y: -50\n          };\n          velocity = {\n            x: Math.random() * 2 - 1,\n            y: speed\n          };\n          break;\n        case 1:\n          // Right\n          position = {\n            x: canvas.width + 50,\n            y: Math.random() * canvas.height\n          };\n          velocity = {\n            x: -speed,\n            y: Math.random() * 2 - 1\n          };\n          break;\n        case 2:\n          // Bottom\n          position = {\n            x: Math.random() * canvas.width,\n            y: canvas.height + 50\n          };\n          velocity = {\n            x: Math.random() * 2 - 1,\n            y: -speed\n          };\n          break;\n        case 3: // Left\n        default:\n          position = {\n            x: -50,\n            y: Math.random() * canvas.height\n          };\n          velocity = {\n            x: speed,\n            y: Math.random() * 2 - 1\n          };\n          break;\n      }\n      ufoRef.current = new UFO({\n        position,\n        velocity\n      });\n    };\n    const spawnAsteroids = count => {\n      const safeRadius = 200; // The radius around the player where asteroids won't spawn\n      for (let i = 0; i < count; i++) {\n        let asteroidPosition;\n        let isSafe = false;\n        while (!isSafe) {\n          asteroidPosition = {\n            x: Math.random() * WORLD_WIDTH,\n            y: Math.random() * WORLD_HEIGHT\n          };\n          const dx = asteroidPosition.x - player.position.x;\n          const dy = asteroidPosition.y - player.position.y;\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          if (distance > safeRadius) {\n            isSafe = true;\n          }\n        }\n        asteroidsRef.current.push(new Asteroid({\n          position: asteroidPosition\n        }));\n      }\n    };\n\n    // Initial spawn\n    spawnAsteroids(waveCountRef.current);\n    let animationFrameId;\n    const gameLoop = () => {\n      const currentPlayer = playerRef.current;\n\n      // Only handle player input if the game is not over\n      if (!gameOverRef.current) {\n        if (shootCooldownRef.current > 0) {\n          shootCooldownRef.current--;\n        }\n        const keys = handleInput();\n        // Handle shooting\n        if (keys[' '] && shootCooldownRef.current <= 0) {\n          bulletsRef.current.push(currentPlayer.shoot());\n          shootCooldownRef.current = SHOOT_COOLDOWN;\n        }\n        // Update player\n        currentPlayer.update(keys, WORLD_WIDTH, WORLD_HEIGHT);\n      }\n\n      // UFO Spawn Logic\n      if (!gameOverRef.current) {\n        ufoSpawnTimerRef.current++;\n        if (!ufoRef.current && ufoSpawnTimerRef.current > UFO_SPAWN_TIME) {\n          spawnUFO();\n          ufoSpawnTimerRef.current = 0;\n        }\n      }\n      context.fillStyle = 'black';\n      context.fillRect(0, 0, canvas.width, canvas.height);\n\n      // --- Camera and World Rendering ---\n      context.save();\n\n      // Center camera on player\n      const cameraX = currentPlayer.position.x - canvas.width / 2;\n      const cameraY = currentPlayer.position.y - canvas.height / 2;\n      context.translate(-cameraX, -cameraY);\n\n      // Draw world border\n      context.strokeStyle = 'white';\n      context.lineWidth = 4; // Thicker border for the world\n      context.strokeRect(0, 0, WORLD_WIDTH, WORLD_HEIGHT);\n\n      // Draw player if it has not been destroyed\n      if (!currentPlayer.delete) {\n        currentPlayer.draw(context);\n      }\n\n      // Update and draw UFO\n      if (ufoRef.current) {\n        const newUfoBullets = ufoRef.current.update(WORLD_WIDTH, WORLD_HEIGHT, currentPlayer.position);\n        ufoBulletsRef.current.push(...newUfoBullets);\n        ufoRef.current.draw(context);\n        if (ufoRef.current.delete) {\n          ufoRef.current = null;\n        }\n      }\n\n      // Update and draw asteroids, bullets, and debris\n      asteroidsRef.current.forEach(asteroid => asteroid.update(WORLD_WIDTH, WORLD_HEIGHT));\n      asteroidsRef.current.forEach(asteroid => asteroid.draw(context));\n      bulletsRef.current.forEach(bullet => bullet.update(WORLD_WIDTH, WORLD_HEIGHT));\n      bulletsRef.current.forEach(bullet => bullet.draw(context));\n      ufoBulletsRef.current.forEach(bullet => bullet.update(WORLD_WIDTH, WORLD_HEIGHT));\n      ufoBulletsRef.current.forEach(bullet => bullet.draw(context));\n      debrisRef.current.forEach(d => d.update());\n      debrisRef.current.forEach(d => d.draw(context));\n\n      // --- End Camera ---\n      context.restore();\n\n      // --- UI Rendering (fixed on screen) ---\n      // Draw Score\n      context.fillStyle = 'white';\n      context.font = '24px Arial';\n      context.textAlign = 'left';\n      context.textBaseline = 'top';\n      context.fillText(`Score: ${scoreRef.current}`, 20, 20);\n\n      // Collision Detection: Bullets with Asteroids\n      bulletsRef.current.forEach(bullet => {\n        asteroidsRef.current.forEach(asteroid => {\n          if (checkCirclePolygonCollision(bullet, asteroid.getPolygon())) {\n            bullet.delete = true;\n            if (asteroid.hitPoints - 1 <= 0) {\n              scoreRef.current += 100;\n            }\n            asteroid.hit();\n          }\n        });\n      });\n\n      // Collision Detection: Bullets with UFO\n      if (ufoRef.current) {\n        const ufoPolygon = ufoRef.current.getPolygon();\n        bulletsRef.current.forEach(bullet => {\n          if (!bullet.delete && checkCirclePolygonCollision(bullet, ufoPolygon)) {\n            bullet.delete = true;\n            ufoRef.current.destroy();\n            scoreRef.current += 500; // UFO is worth more points\n          }\n        });\n      }\n\n      // Collision Detection: UFO Bullets with Player\n      if (!gameOverRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        ufoBulletsRef.current.forEach(bullet => {\n          if (checkCirclePolygonCollision(bullet, playerPolygon)) {\n            bullet.delete = true;\n            debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n            gameOverRef.current = true;\n            setIsGameOver(true);\n          }\n        });\n      }\n\n      // Collision Detection: Player with Asteroids (only if game not over)\n      if (!gameOverRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        asteroidsRef.current.forEach(asteroid => {\n          if (checkPolygonCollision(playerPolygon, asteroid.getPolygon())) {\n            debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n            gameOverRef.current = true;\n            setIsGameOver(true);\n          }\n        });\n      }\n\n      // Collision Detection: Player with UFO\n      if (!gameOverRef.current && ufoRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        const ufoPolygon = ufoRef.current.getPolygon();\n        if (checkPolygonCollision(playerPolygon, ufoPolygon)) {\n          debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n          gameOverRef.current = true;\n          setIsGameOver(true);\n          ufoRef.current.destroy(); // Also destroy the UFO\n        }\n      }\n\n      // Handle asteroid splitting\n      const newAsteroids = [];\n      asteroidsRef.current.forEach(asteroid => {\n        // Check if a large asteroid is destroyed\n        if (asteroid.delete && asteroid.radius >= 50) {\n          // Split into two smaller asteroids\n          newAsteroids.push(new Asteroid({\n            position: {\n              ...asteroid.position\n            },\n            size: asteroid.radius / 2\n          }));\n          newAsteroids.push(new Asteroid({\n            position: {\n              ...asteroid.position\n            },\n            size: asteroid.radius / 2\n          }));\n        }\n      });\n\n      // Remove deleted items and add new ones\n      bulletsRef.current = bulletsRef.current.filter(b => !b.delete);\n      ufoBulletsRef.current = ufoBulletsRef.current.filter(b => !b.delete);\n      debrisRef.current = debrisRef.current.filter(d => !d.delete);\n      asteroidsRef.current = asteroidsRef.current.filter(a => !a.delete).concat(newAsteroids);\n\n      // Check for next wave (only if game not over)\n      if (!gameOverRef.current && asteroidsRef.current.length === 0) {\n        waveCountRef.current++;\n        spawnAsteroids(waveCountRef.current);\n      }\n      animationFrameId = window.requestAnimationFrame(gameLoop);\n    };\n    gameLoop();\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isGameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        color: 'white',\n        fontSize: '48px',\n        textAlign: 'center'\n      },\n      children: \"GAME OVER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Game, \"l4fnTMmJ/LLAZYjHZG8sQux0C8Q=\");\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Player","Asteroid","Debris","UFO","handleInput","checkPolygonCollision","checkCirclePolygonCollision","jsxDEV","_jsxDEV","Fragment","_Fragment","Game","_s","canvasRef","bulletsRef","ufoBulletsRef","asteroidsRef","debrisRef","ufoRef","playerRef","shootCooldownRef","waveCountRef","isGameOver","setIsGameOver","gameOverRef","scoreRef","ufoSpawnTimerRef","UFO_SPAWN_TIME","SHOOT_COOLDOWN","WORLD_WIDTH","WORLD_HEIGHT","canvas","current","context","getContext","width","height","player","position","x","y","spawnUFO","side","Math","floor","random","velocity","speed","spawnAsteroids","count","safeRadius","i","asteroidPosition","isSafe","dx","dy","distance","sqrt","push","animationFrameId","gameLoop","currentPlayer","keys","shoot","update","fillStyle","fillRect","save","cameraX","cameraY","translate","strokeStyle","lineWidth","strokeRect","delete","draw","newUfoBullets","forEach","asteroid","bullet","d","restore","font","textAlign","textBaseline","fillText","getPolygon","hitPoints","hit","ufoPolygon","destroy","playerPolygon","concat","newAsteroids","radius","size","filter","b","a","length","window","requestAnimationFrame","cancelAnimationFrame","children","style","top","left","transform","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["/Users/jlacomba/Game-Asteroids/react-asteroids-game/src/components/Game.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Player from './Player';\nimport Asteroid from './Asteroid';\nimport Debris from './Debris';\nimport UFO from './UFO';\nimport { handleInput } from '../core/inputController';\nimport { checkPolygonCollision, checkCirclePolygonCollision } from '../core/collision';\n\nconst Game = () => {\n  const canvasRef = useRef(null);\n  const bulletsRef = useRef([]);\n  const ufoBulletsRef = useRef([]);\n  const asteroidsRef = useRef([]);\n  const debrisRef = useRef([]);\n  const ufoRef = useRef(null);\n  const playerRef = useRef(null);\n  const shootCooldownRef = useRef(0);\n  const waveCountRef = useRef(30); // Was 8\n  const [isGameOver, setIsGameOver] = useState(false);\n  const gameOverRef = useRef(false);\n  const scoreRef = useRef(0);\n  const ufoSpawnTimerRef = useRef(0);\n  const UFO_SPAWN_TIME = 30 * 60; // 30 seconds at 60fps\n  const SHOOT_COOLDOWN = 15; // 60fps / 4 shots per second = 15 frames\n  const WORLD_WIDTH = 3000;\n  const WORLD_HEIGHT = 2000;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    canvas.width = 1024;\n    canvas.height = 768;\n\n    // Initialize Player\n    const player = new Player({\n      position: { x: WORLD_WIDTH / 2, y: WORLD_HEIGHT / 2 },\n    });\n    playerRef.current = player;\n\n    const spawnUFO = () => {\n      const side = Math.floor(Math.random() * 4);\n      let position, velocity;\n      const speed = 1.5;\n\n      switch (side) {\n        case 0: // Top\n          position = { x: Math.random() * canvas.width, y: -50 };\n          velocity = { x: Math.random() * 2 - 1, y: speed };\n          break;\n        case 1: // Right\n          position = { x: canvas.width + 50, y: Math.random() * canvas.height };\n          velocity = { x: -speed, y: Math.random() * 2 - 1 };\n          break;\n        case 2: // Bottom\n          position = { x: Math.random() * canvas.width, y: canvas.height + 50 };\n          velocity = { x: Math.random() * 2 - 1, y: -speed };\n          break;\n        case 3: // Left\n        default:\n          position = { x: -50, y: Math.random() * canvas.height };\n          velocity = { x: speed, y: Math.random() * 2 - 1 };\n          break;\n      }\n      ufoRef.current = new UFO({ position, velocity });\n    };\n\n    const spawnAsteroids = (count) => {\n      const safeRadius = 200; // The radius around the player where asteroids won't spawn\n      for (let i = 0; i < count; i++) {\n        let asteroidPosition;\n        let isSafe = false;\n        while (!isSafe) {\n          asteroidPosition = {\n            x: Math.random() * WORLD_WIDTH,\n            y: Math.random() * WORLD_HEIGHT,\n          };\n  \n          const dx = asteroidPosition.x - player.position.x;\n          const dy = asteroidPosition.y - player.position.y;\n          const distance = Math.sqrt(dx * dx + dy * dy);\n  \n          if (distance > safeRadius) {\n            isSafe = true;\n          }\n        }\n        asteroidsRef.current.push(new Asteroid({\n          position: asteroidPosition\n        }));\n      }\n    };\n\n    // Initial spawn\n    spawnAsteroids(waveCountRef.current);\n\n    let animationFrameId;\n\n    const gameLoop = () => {\n      const currentPlayer = playerRef.current;\n\n      // Only handle player input if the game is not over\n      if (!gameOverRef.current) {\n        if (shootCooldownRef.current > 0) {\n          shootCooldownRef.current--;\n        }\n        const keys = handleInput();\n        // Handle shooting\n        if (keys[' '] && shootCooldownRef.current <= 0) {\n          bulletsRef.current.push(currentPlayer.shoot());\n          shootCooldownRef.current = SHOOT_COOLDOWN;\n        }\n        // Update player\n        currentPlayer.update(keys, WORLD_WIDTH, WORLD_HEIGHT);\n      }\n\n      // UFO Spawn Logic\n      if (!gameOverRef.current) {\n        ufoSpawnTimerRef.current++;\n        if (!ufoRef.current && ufoSpawnTimerRef.current > UFO_SPAWN_TIME) {\n          spawnUFO();\n          ufoSpawnTimerRef.current = 0;\n        }\n      }\n\n      context.fillStyle = 'black';\n      context.fillRect(0, 0, canvas.width, canvas.height);\n\n      // --- Camera and World Rendering ---\n      context.save();\n\n      // Center camera on player\n      const cameraX = currentPlayer.position.x - canvas.width / 2;\n      const cameraY = currentPlayer.position.y - canvas.height / 2;\n      context.translate(-cameraX, -cameraY);\n\n      // Draw world border\n      context.strokeStyle = 'white';\n      context.lineWidth = 4; // Thicker border for the world\n      context.strokeRect(0, 0, WORLD_WIDTH, WORLD_HEIGHT);\n\n      // Draw player if it has not been destroyed\n      if (!currentPlayer.delete) {\n        currentPlayer.draw(context);\n      }\n\n      // Update and draw UFO\n      if (ufoRef.current) {\n        const newUfoBullets = ufoRef.current.update(WORLD_WIDTH, WORLD_HEIGHT, currentPlayer.position);\n        ufoBulletsRef.current.push(...newUfoBullets);\n\n        ufoRef.current.draw(context);\n        if (ufoRef.current.delete) {\n          ufoRef.current = null;\n        }\n      }\n\n      // Update and draw asteroids, bullets, and debris\n      asteroidsRef.current.forEach(asteroid => asteroid.update(WORLD_WIDTH, WORLD_HEIGHT));\n      asteroidsRef.current.forEach(asteroid => asteroid.draw(context));\n\n      bulletsRef.current.forEach(bullet => bullet.update(WORLD_WIDTH, WORLD_HEIGHT));\n      bulletsRef.current.forEach(bullet => bullet.draw(context));\n\n      ufoBulletsRef.current.forEach(bullet => bullet.update(WORLD_WIDTH, WORLD_HEIGHT));\n      ufoBulletsRef.current.forEach(bullet => bullet.draw(context));\n\n      debrisRef.current.forEach(d => d.update());\n      debrisRef.current.forEach(d => d.draw(context));\n\n      // --- End Camera ---\n      context.restore();\n\n      // --- UI Rendering (fixed on screen) ---\n      // Draw Score\n      context.fillStyle = 'white';\n      context.font = '24px Arial';\n      context.textAlign = 'left';\n      context.textBaseline = 'top';\n      context.fillText(`Score: ${scoreRef.current}`, 20, 20);\n\n      // Collision Detection: Bullets with Asteroids\n      bulletsRef.current.forEach(bullet => {\n        asteroidsRef.current.forEach(asteroid => {\n          if (checkCirclePolygonCollision(bullet, asteroid.getPolygon())) {\n            bullet.delete = true;\n            if (asteroid.hitPoints - 1 <= 0) {\n              scoreRef.current += 100;\n            }\n            asteroid.hit();\n          }\n        });\n      });\n\n      // Collision Detection: Bullets with UFO\n      if (ufoRef.current) {\n        const ufoPolygon = ufoRef.current.getPolygon();\n        bulletsRef.current.forEach(bullet => {\n          if (!bullet.delete && checkCirclePolygonCollision(bullet, ufoPolygon)) {\n            bullet.delete = true;\n            ufoRef.current.destroy();\n            scoreRef.current += 500; // UFO is worth more points\n          }\n        });\n      }\n\n      // Collision Detection: UFO Bullets with Player\n      if (!gameOverRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        ufoBulletsRef.current.forEach(bullet => {\n          if (checkCirclePolygonCollision(bullet, playerPolygon)) {\n            bullet.delete = true;\n            debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n            gameOverRef.current = true;\n            setIsGameOver(true);\n          }\n        });\n      }\n\n      // Collision Detection: Player with Asteroids (only if game not over)\n      if (!gameOverRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        asteroidsRef.current.forEach(asteroid => {\n          if (checkPolygonCollision(playerPolygon, asteroid.getPolygon())) {\n            debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n            gameOverRef.current = true;\n            setIsGameOver(true);\n          }\n        });\n      }\n\n      // Collision Detection: Player with UFO\n      if (!gameOverRef.current && ufoRef.current) {\n        const playerPolygon = currentPlayer.getPolygon();\n        const ufoPolygon = ufoRef.current.getPolygon();\n        if (checkPolygonCollision(playerPolygon, ufoPolygon)) {\n          debrisRef.current = debrisRef.current.concat(currentPlayer.destroy());\n          gameOverRef.current = true;\n          setIsGameOver(true);\n          ufoRef.current.destroy(); // Also destroy the UFO\n        }\n      }\n\n      // Handle asteroid splitting\n      const newAsteroids = [];\n      asteroidsRef.current.forEach(asteroid => {\n        // Check if a large asteroid is destroyed\n        if (asteroid.delete && asteroid.radius >= 50) {\n          // Split into two smaller asteroids\n          newAsteroids.push(new Asteroid({\n            position: { ...asteroid.position },\n            size: asteroid.radius / 2\n          }));\n          newAsteroids.push(new Asteroid({\n            position: { ...asteroid.position },\n            size: asteroid.radius / 2\n          }));\n        }\n      });\n\n      // Remove deleted items and add new ones\n      bulletsRef.current = bulletsRef.current.filter(b => !b.delete);\n      ufoBulletsRef.current = ufoBulletsRef.current.filter(b => !b.delete);\n      debrisRef.current = debrisRef.current.filter(d => !d.delete);\n      asteroidsRef.current = asteroidsRef.current.filter(a => !a.delete).concat(newAsteroids);\n\n      // Check for next wave (only if game not over)\n      if (!gameOverRef.current && asteroidsRef.current.length === 0) {\n        waveCountRef.current++;\n        spawnAsteroids(waveCountRef.current);\n      }\n\n      animationFrameId = window.requestAnimationFrame(gameLoop);\n    };\n\n    gameLoop();\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, []);\n\n  return (\n    <>\n      {isGameOver && (\n        <div style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', color: 'white', fontSize: '48px', textAlign: 'center' }}>\n          GAME OVER\n        </div>\n      )}\n      <canvas ref={canvasRef} />\n    </>\n  );\n};\n\nexport default Game;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}